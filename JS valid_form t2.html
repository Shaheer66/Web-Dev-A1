<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<div class="container">
    <div class="header">
        <h2>Sign Up Form</h2>
    </div>
    <form class="form" id="form">
        <div class="form-control">
            <label for="username">Username</label>
            <input type="text" name="username" id="username" placeholder="Enter your name" autocomplete="off">
            <i class="fas fa-circle-check"></i>
            <i class="fas fa-circle-exclamation"></i>
            <small>Error Message</small>
        </div>
        <div class="form-control">
            <label for="email">Email</label>
            <input type="email" name="email" id="email" placeholder="Enter your email" autocomplete="off">
            <i class="fas fa-circle-check"></i>
            <i class="fas fa-circle-exclamation"></i>
            <small>Error Message</small>
        </div>
        <div class="form-control">
            <label for="phoneNumber">Contact Number</label>
            <input type="number" name="phoneNumber" id="phoneNumber" placeholder="Enter your Phone Number" autocomplete="off">
            <i class="fas fa-circle-check"></i>
            <i class="fas fa-circle-exclamation"></i>
            <small>Error Message</small>
        </div>
        <div class="form-control">
            <label for="password">Password</label>
            <input type="password" name="password" id="password" placeholder="Create password" autocomplete="off">
            <i class="fas fa-circle-check"></i>
            <i class="fas fa-circle-exclamation"></i>
            <small>Error Message</small>
        </div>
        <div class="form-control">
            <label for="confirmPassword">Confirm Password</label>
            <input type="password" name="confirmPassword" id="confirmPassword" placeholder="Confirm Password" autocomplete="off">
            <i class="fas fa-circle-check"></i>
            <i class="fas fa-circle-exclamation"></i>
            <small>Error Message</small>
        </div>
        <input type="submit" value="Submit" class="button">
    </form>
</div>
<script type="text/javascript">
    const form = document.getElementById('form');
    const username = document.getElementById('username');
    const email = document.getElementById('email');
    const phoneNumber = document.getElementById('phoneNumber');
    const password = document.getElementById('password');
    const confirmPassword = document.getElementById('confirmPassword');

    // Event
    form.addEventListener('submit', (event) => {
        event.preventDefault();
        validate();
    });

    const isEmail = (emailVal) => {
        var atSymbol = emailVal.indexOf('@');
        if (atSymbol < 1) {
            return false;
        }
        var dot = emailVal.lastIndexOf('.');
        if (dot <= atSymbol + 3) {
            return false;
        }
        if (dot != emailVal.length - 3) {
            return false;
        }
        return true;
    };

    const validate = () => {
        const usernameVal = username.value.trim();
        const emailVal = email.value.trim();
        const phoneVal = phoneNumber.value.trim();
        const passwordVal = password.value.trim();
        const confirmPasswordVal = confirmPassword.value.trim();

        if (usernameVal === "") {
            setErrorMsg(username, 'Username cannot be empty');
        } else if (usernameVal.length <= 2) {
            setErrorMsg(username, 'Username cannot be less than 3 characters');
        } else {
            setSuccessMsg(username);
        }

        if (emailVal === "") {
            setErrorMsg(email, 'Email cannot be empty');
        } else if (!isEmail(emailVal)) {
            setErrorMsg(email, 'Not a valid email');
        } else {
            setSuccessMsg(email);
        }

        if (phoneVal === "") {
            setErrorMsg(phoneNumber, 'Phone Number cannot be empty');
        } else if (isNaN(phoneVal)) {
            setErrorMsg(phoneNumber, 'Phone Number should be a number');
        } else {
            setSuccessMsg(phoneNumber);
        }

        if (passwordVal === "") {
            setErrorMsg(password, 'Password cannot be empty');
        } else if (passwordVal.length < 6) {
            setErrorMsg(password, 'Password should be at least 6 characters');
        } else {
            setSuccessMsg(password);
        }

        if (confirmPasswordVal === "") {
            setErrorMsg(confirmPassword, 'Confirm Password cannot be empty');
        } else if (confirmPasswordVal !== passwordVal) {
            setErrorMsg(confirmPassword, 'Passwords do not match');
        } else {
            setSuccessMsg(confirmPassword);
        }
    };

    function setErrorMsg(input, errorMsg) {
        const formControl = input.parentElement;
        const small = formControl.querySelector('small');
        formControl.className = 'form-control error';
        small.innerText = errorMsg;
    }

    function setSuccessMsg(input) {
        const formControl = input.parentElement;
        formControl.className = 'form-control success';
    }
</script>
</body>
</html>






